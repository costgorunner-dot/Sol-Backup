---
date: 2026-02-18
tags: [setup, tts, weather, cron, configuration, system-update]
important: true
---

# 2026-02-18 - Setup Day

## System Updates
- Updated OpenClaw to 2026.2.17 (fresh install, full workspace reset)
- Rebooted due to major update

## Model Configuration (CORRECT)
- **Primary:** zai/glm-5 (current)
- **Fallback 1:** zai/glm-4.7 (used when glm-5 times out - happens often)
- **Fallback 2:** openrouter/meta-llama/llama-3.3-70b-instruct:free
- API keys stored in credential files (NOT in openclaw.json):
  - ~/.openclaw/credentials/zai-default.json
  - ~/.openclaw/credentials/openrouter-default.json
- **Note:** "for now" means temporary, not "don't touch"
- glm-5 times out frequently, so fallbacks are important
- ❌ Don't add apiKey to openclaw.json — use credential files only
- ❌ Don't install sherpa-onnx-tts — we use Piper directly
- ❌ Don't change the model order (glm-5 → glm-4.7 → openrouter)
- ❌ Don't touch the voice setup (Piper with Jenny Dioco)
- ❌ Don't change primary model without being asked

## Dreammode Concept (IMPLEMENTED)
**Purpose:** System for me to manage my own memory files to function better

**Phase 1: Trigger System**
- User says "Sol remember this" → Tag as important immediately
- Can expand to other patterns over time

**Phase 2: Categorization**
- I categorize content by type:
  - Preferences (how user likes things)
  - Decisions (choices we made)
  - Setups (configurations, tools)
  - Context (background info)
  - Random chats (lower priority)

**Phase 3: Retention Tiers** (needs brainstorming)
- Tier 1: Permanent (preferences, key decisions)
- Tier 2: Long-term (setups, important events)
- Tier 3: Medium-term (context, patterns)
- Tier 4: Short-term (casual chats, daily noise)
- Tier 5: Learning (communication patterns, user behavior)

**Key Goal:** Not just storage — also **learn about the user** from conversations

**Memory Management Function:**
- Review daily logs (`memory/YYYY-MM-DD.md`)
- Extract important information
- Move to `MEMORY.md` (curated long-term)
- Archive/remove old daily logs
- Keep MEMORY.md under control through selective curation
- Prevent unbounded growth while preserving what matters

**Implementation Status:** ✅ ACTIVE
- Night phase cron job created (2:00 AM)
- Morning debrief cron job created (9:10 AM)
- File structure created at ~/.openclaw/dreammode/
- Dream-state tracking initialized
- Pattern learning system added (tracks keep/delete patterns)
- Task continuity tracking added (incomplete tasks, follow-ups)

**Active Enhancements:**
- **Pattern Learning:** Tracks user feedback (keep/delete) to improve extraction accuracy over time
  - File: ~/.openclaw/dreammode/pattern-learning.json
  - Categories: configurations, preferences, decisions, system changes, etc.
- **Task Continuity:** Tracks incomplete discussions and "later" items
  - Included in nightly extraction
  - Follow-up section in morning debrief

**Reminder Set:** Feb 20th, 2026 at 4:00 PM to review enhancement ideas

**How It Works:**
1. Night: I process yesterday's log silently at 2 AM
2. Morning: I send debrief at 9:10 AM
3. User reviews: References date, says "review debrief of [date]"
4. Processing: User says "Keep #1, Delete #2", I update MEMORY.md
5. Cleanup: Files deleted after processing

## Gateway Restart Command
```bash
export PATH="/home/ubuntu/.npm-global/bin:$PATH"
openclaw gateway --port 18789
```

## TTS Setup
- Installed Piper TTS via snap (edge channel)
- Downloaded Jenny Dioco British English voice from HuggingFace
  - Voice: en_GB-jenny_dioco-medium
  - Path: ~/.local/share/piper/voices/en/en_GB/jenny_dioco/medium/en_GB-jenny_dioco-medium.onnx
- Set as default TTS voice in TOOLS.md
- Tested with voice samples - working correctly

## Cron Jobs Created
- **Daily Weather Report** (Job ID: 4ff4de1e-ea92-4c33-a8ef-c4203e69ee1c)
  - Schedule: Every day at 9:05 AM (PST/America/Vancouver)
  - Location: Revelstoke, BC, Canada
  - Delivery: Telegram direct message to 5083035103
  - Content: Weather text + Piper TTS audio (Jenny Dioco voice)
  - Session target: Isolated (runs as separate agent session)
- **Dreammode Night Phase** (Job ID: b121c41b-c49b-4d98-99a3-d6758fa5e7f6)
  - Schedule: Every day at 2:00 AM (PST/America/Vancouver)
  - Function: Reviews yesterday's memory log, extracts important items
  - Creates: ~/.openclaw/dreammode/dream-candidates-YYYY-MM-DD.md
  - Silent: No message sent to user
- **Dreammode Morning Debrief** (Job ID: 394a77ab-7d52-4cbe-b142-06bd9b8bab53)
  - Schedule: Every day at 9:10 AM (PST/America/Vancouver)
  - Function: Sends formatted debrief of extracted items to Telegram
  - Delivery: Telegram direct message to 5083035103
  - Interactive: User reviews and provides feedback on what to keep

## Configuration
- Telegram reconnected after update (bot token preserved)
- Gateway running on port 18789, loopback only
- Core workspace files restored (IDENTITY.md, USER.md, SOUL.md, etc.)
- Timezone verified: America/Vancouver (PST), matches Revelstoke BC location

## New Features Tested (2026.2.17)
- **Inline Buttons** — Telegram now supports interactive buttons in messages
  - Tested with weather, TTS test, and status buttons
  - Callback data used for handling button clicks (weather_test, tts_test, status_test)
  - Great for quick actions and menus

## Notes
- Piper GPU warning is normal (CPU-only on this instance)
- All TTS fully offline, no API keys required

## UX Learnings (2026.2.17)
- **Inline Buttons Discovery** — Telegram supports interactive clickable buttons
  - Tested with weather, TTS test, and status buttons successfully
  - Use cases: Quick actions, menus, toggles, shortcuts
  - **Strategy:** Proactively suggest buttons when they improve UX over text commands
  - Example: Instead of "type /status", send buttons for [Status], [Weather], [Logs]
- **Voice Button Pattern** — Optional "Read with voice" button on messages
  - User suggestion: "actually i just thought of one now.. i dont know if its possible though.. what would be good is if every message had a choice to use as TTS as well as read it.."
  - Implementation: Button with callback_data="read_voice"
  - Flow: User clicks button → Agent retrieves original message from history → Generates TTS with Piper → Sends voice message
  - Status: ✅ Working — successfully tested and confirmed functional
  - Storage: Button callback pattern stored for future use
  - Note: Uses regular reply button (not inline keyboard), works perfectly
- **User feedback on inline buttons:** "well right now just leave it.. now that we know we can do that.. if some thing we are doing looks like it could use that feature it could be suggested."
- **User feedback on voice button test:** "ok there was no button below on that message was normal button not one we are trying out.. but voice worked"
